!function(a){a.fn.wof=function(b,c){function d(){return h.prizes?(h.prizes=h.prizes.reverse(),h.timeout!==!1&&setTimeout(function(){h.button.hasClass("disabled")||e()},h.timeout),h.button.on("click",function(b){b.preventDefault(),a(this).hasClass("disabled")||e()}),void 0):(console.error("No prizes set"),!1)}function e(){f(),h.button.addClass("disabled");var a=h.prizes.length,b=360/a;if(i=1500+Math.round(1500*Math.random()),h.wonPrize&&h.prizes.indexOf(h.wonPrize)>=0){var d=h.prizes.indexOf(h.wonPrize)+1;i=2520+(b*d-Math.random()*b)}h.wheel.transition({rotate:"0deg"},0).transition({rotate:i+"deg"},h.duration,h.easing),h.marker&&(setTimeout(function(){h.marker.transition({rotate:"0deg"},300,"easeOutQuad"),h.marker.removeClass("moving")},h.duration-500),h.marker.addClass("moving"),h.marker.transition({rotate:"-20deg"},100,"easeInQuad")),setTimeout(function(){var a=i,d=a%360,e=Math.ceil(d/b)-1,f=h.prizes[e];setTimeout(function(){h.multiple&&h.button.removeClass("disabled"),"undefined"!=typeof c&&c(f)},500)},h.duration)}function f(){h.wheel.transition({rotate:"0deg"},0),i=0}var g=this,h=a.extend({wheel:g,marker:!1,button:g,prizes:!1,duration:6e3,multiple:!1,wonPrize:!1,timeout:!1,easing:"cubic-bezier(.25,0,.17,1)"},b),i=0;d()}}(jQuery);
